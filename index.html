<!DOCTYPE html>
<html>
<head>
<style>
  #color-box {
    width: 100px;
    height: 100px;
    background-color: blue;
  }
</style>
</head>
<body>

<div id="color-box"></div>

<script>
var intervalId;

function changeColor() {
  var colorBox = document.getElementById("color-box");
  
  // 현재 배경색 확인
  var currentColor = colorBox.style.backgroundColor;
  
  // 다음 색상 계산
  var nextColor;
  switch (currentColor) {
    case "blue":
      nextColor = "red";
      break;
    case "red":
      nextColor = "yellow";
      break;
    case "yellow":
      nextColor = "blue";
      break;
    default:
      nextColor = "blue";
  }
  
  // 배경색 변경
  colorBox.style.backgroundColor = nextColor;
}

function startColorCycle() {
  // 이전 interval 제거
  clearInterval(intervalId);
  
  // 1초마다 changeColor 함수 호출
  intervalId = setInterval(changeColor, 1000);
}

// 페이지 로드 시 색상 순환 시작
startColorCycle();

// 화면 클릭 시 초기화
document.body.addEventListener("click", function() {
  clearInterval(intervalId);
  var colorBox = document.getElementById("color-box");
  colorBox.style.backgroundColor = "blue"; // 초기 색상로 복구
  startColorCycle(); // 다시 색상 순환 시작
});
</script>

</body>
</html>
